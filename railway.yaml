build:
  builder: DOCKERFILE
  dockerfilePath: Dockerfile

deploy:
  startCommand: java -jar app.jar
  restartPolicyType: ON_FAILURE
  restartPolicyMaxRetries: 3
  healthcheckPath: /actuator/health
  healthcheckTimeout: 300

# Environment variables
# Note: Add these in Railway dashboard under "Variables":
# - DATABASE_URL (from PostgreSQL plugin)
# - REDIS_URL (from Redis plugin)
# - SPRING_DATASOURCE_URL=${DATABASE_URL}
# - SPRING_DATASOURCE_USERNAME
# - SPRING_DATASOURCE_PASSWORD
# - SPRING_DATA_REDIS_HOST
# - SPRING_DATA_REDIS_PORT
# - SPRING_DATA_REDIS_PASSWORD
# - MAIL_HOST
# - MAIL_PORT
# - MAIL_USERNAME
# - MAIL_PASSWORD
# - JWT_SECRET (generate a secure random string)
